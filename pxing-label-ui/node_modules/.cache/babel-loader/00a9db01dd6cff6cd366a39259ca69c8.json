{"remainingRequest":"E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\src\\components\\HeaderSearch\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\src\\components\\HeaderSearch\\index.vue","mtime":1628042443733},{"path":"E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\jeethink\\jeetthink3.6\\jeethink-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9jb2RlL2plZXRoaW5rL2plZXR0aGluazMuNi9qZWV0aGluay11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRTovY29kZS9qZWV0aGluay9qZWV0dGhpbmszLjYvamVldGhpbmstdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkiKSk7Cgp2YXIgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJFOi9jb2RlL2plZXRoaW5rL2plZXR0aGluazMuNi9qZWV0aGluay11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIikpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyIpOwoKdmFyIF9mdXNlTWluID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJmdXNlLmpzL2Rpc3QvZnVzZS5taW4uanMiKSk7Cgp2YXIgX3BhdGggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInBhdGgiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBmdXNlIGlzIGEgbGlnaHR3ZWlnaHQgZnV6enktc2VhcmNoIG1vZHVsZQovLyBtYWtlIHNlYXJjaCByZXN1bHRzIG1vcmUgaW4gbGluZSB3aXRoIGV4cGVjdGF0aW9ucwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ0hlYWRlclNlYXJjaCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogJycsCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICBzZWFyY2hQb29sOiBbXSwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIGZ1c2U6IHVuZGVmaW5lZAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByb3V0ZXM6IGZ1bmN0aW9uIHJvdXRlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMucGVybWlzc2lvbl9yb3V0ZXM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcm91dGVzOiBmdW5jdGlvbiByb3V0ZXMoKSB7CiAgICAgIHRoaXMuc2VhcmNoUG9vbCA9IHRoaXMuZ2VuZXJhdGVSb3V0ZXModGhpcy5yb3V0ZXMpOwogICAgfSwKICAgIHNlYXJjaFBvb2w6IGZ1bmN0aW9uIHNlYXJjaFBvb2wobGlzdCkgewogICAgICB0aGlzLmluaXRGdXNlKGxpc3QpOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3codmFsdWUpIHsKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2VhcmNoUG9vbCA9IHRoaXMuZ2VuZXJhdGVSb3V0ZXModGhpcy5yb3V0ZXMpOwogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93OwoKICAgICAgaWYgKHRoaXMuc2hvdykgewogICAgICAgIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0ICYmIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0LmZvY3VzKCk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0ICYmIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0LmJsdXIoKTsKICAgICAgdGhpcy5vcHRpb25zID0gW107CiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgfSwKICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKHZhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhdGggPSB2YWwucGF0aDsKCiAgICAgIGlmICh0aGlzLmlzaHR0cCh2YWwucGF0aCkpIHsKICAgICAgICAvLyBodHRwKHMpOi8vIOi3r+W+hOaWsOeql+WPo+aJk+W8gAogICAgICAgIHZhciBwaW5kZXggPSBwYXRoLmluZGV4T2YoImh0dHAiKTsKICAgICAgICB3aW5kb3cub3BlbihwYXRoLnN1YnN0cihwaW5kZXgsIHBhdGgubGVuZ3RoKSwgIl9ibGFuayIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHZhbC5wYXRoKTsKICAgICAgfQoKICAgICAgdGhpcy5zZWFyY2ggPSAnJzsKICAgICAgdGhpcy5vcHRpb25zID0gW107CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRGdXNlOiBmdW5jdGlvbiBpbml0RnVzZShsaXN0KSB7CiAgICAgIHRoaXMuZnVzZSA9IG5ldyBfZnVzZU1pbi5kZWZhdWx0KGxpc3QsIHsKICAgICAgICBzaG91bGRTb3J0OiB0cnVlLAogICAgICAgIHRocmVzaG9sZDogMC40LAogICAgICAgIGxvY2F0aW9uOiAwLAogICAgICAgIGRpc3RhbmNlOiAxMDAsCiAgICAgICAgbWF4UGF0dGVybkxlbmd0aDogMzIsCiAgICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoOiAxLAogICAgICAgIGtleXM6IFt7CiAgICAgICAgICBuYW1lOiAndGl0bGUnLAogICAgICAgICAgd2VpZ2h0OiAwLjcKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAncGF0aCcsCiAgICAgICAgICB3ZWlnaHQ6IDAuMwogICAgICAgIH1dCiAgICAgIH0pOwogICAgfSwKICAgIC8vIEZpbHRlciBvdXQgdGhlIHJvdXRlcyB0aGF0IGNhbiBiZSBkaXNwbGF5ZWQgaW4gdGhlIHNpZGViYXIKICAgIC8vIEFuZCBnZW5lcmF0ZSB0aGUgaW50ZXJuYXRpb25hbGl6ZWQgdGl0bGUKICAgIGdlbmVyYXRlUm91dGVzOiBmdW5jdGlvbiBnZW5lcmF0ZVJvdXRlcyhyb3V0ZXMpIHsKICAgICAgdmFyIGJhc2VQYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnLyc7CiAgICAgIHZhciBwcmVmaXhUaXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107CiAgICAgIHZhciByZXMgPSBbXTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSAoMCwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyLmRlZmF1bHQpKHJvdXRlcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciByb3V0ZXIgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAvLyBza2lwIGhpZGRlbiByb3V0ZXIKICAgICAgICAgIGlmIChyb3V0ZXIuaGlkZGVuKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICBwYXRoOiAhdGhpcy5pc2h0dHAocm91dGVyLnBhdGgpID8gX3BhdGguZGVmYXVsdC5yZXNvbHZlKGJhc2VQYXRoLCByb3V0ZXIucGF0aCkgOiByb3V0ZXIucGF0aCwKICAgICAgICAgICAgdGl0bGU6ICgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKHByZWZpeFRpdGxlKQogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAocm91dGVyLm1ldGEgJiYgcm91dGVyLm1ldGEudGl0bGUpIHsKICAgICAgICAgICAgZGF0YS50aXRsZSA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5Mi5kZWZhdWx0KShkYXRhLnRpdGxlKSwgW3JvdXRlci5tZXRhLnRpdGxlXSk7CgogICAgICAgICAgICBpZiAocm91dGVyLnJlZGlyZWN0ICE9PSAnbm9SZWRpcmVjdCcpIHsKICAgICAgICAgICAgICAvLyBvbmx5IHB1c2ggdGhlIHJvdXRlcyB3aXRoIHRpdGxlCiAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlOiBuZWVkIHRvIGV4Y2x1ZGUgcGFyZW50IHJvdXRlciB3aXRob3V0IHJlZGlyZWN0CiAgICAgICAgICAgICAgcmVzLnB1c2goZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gcmVjdXJzaXZlIGNoaWxkIHJvdXRlcwoKCiAgICAgICAgICBpZiAocm91dGVyLmNoaWxkcmVuKSB7CiAgICAgICAgICAgIHZhciB0ZW1wUm91dGVzID0gdGhpcy5nZW5lcmF0ZVJvdXRlcyhyb3V0ZXIuY2hpbGRyZW4sIGRhdGEucGF0aCwgZGF0YS50aXRsZSk7CgogICAgICAgICAgICBpZiAodGVtcFJvdXRlcy5sZW5ndGggPj0gMSkgewogICAgICAgICAgICAgIHJlcyA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5Mi5kZWZhdWx0KShyZXMpLCAoMCwgX3RvQ29uc3VtYWJsZUFycmF5Mi5kZWZhdWx0KSh0ZW1wUm91dGVzKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlczsKICAgIH0sCiAgICBxdWVyeVNlYXJjaDogZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnkpIHsKICAgICAgaWYgKHF1ZXJ5ICE9PSAnJykgewogICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuZnVzZS5zZWFyY2gocXVlcnkpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub3B0aW9ucyA9IFtdOwogICAgICB9CiAgICB9LAogICAgaXNodHRwOiBmdW5jdGlvbiBpc2h0dHAodXJsKSB7CiAgICAgIHJldHVybiB1cmwuaW5kZXhPZignaHR0cDovLycpICE9PSAtMSB8fCB1cmwuaW5kZXhPZignaHR0cHM6Ly8nKSAhPT0gLTE7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div :class=\"{'show':show}\" class=\"header-search\">\r\n    <svg-icon class-name=\"search-icon\" icon-class=\"search\" @click.stop=\"click\" />\r\n    <el-select\r\n      ref=\"headerSearchSelect\"\r\n      v-model=\"search\"\r\n      :remote-method=\"querySearch\"\r\n      filterable\r\n      default-first-option\r\n      remote\r\n      placeholder=\"Search\"\r\n      class=\"header-search-select\"\r\n      @change=\"change\"\r\n    >\r\n      <el-option v-for=\"option in options\" :key=\"option.item.path\" :value=\"option.item\" :label=\"option.item.title.join(' > ')\" />\r\n    </el-select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// fuse is a lightweight fuzzy-search module\r\n// make search results more in line with expectations\r\nimport Fuse from 'fuse.js/dist/fuse.min.js'\r\nimport path from 'path'\r\n\r\nexport default {\r\n  name: 'HeaderSearch',\r\n  data() {\r\n    return {\r\n      search: '',\r\n      options: [],\r\n      searchPool: [],\r\n      show: false,\r\n      fuse: undefined\r\n    }\r\n  },\r\n  computed: {\r\n    routes() {\r\n      return this.$store.getters.permission_routes\r\n    }\r\n  },\r\n  watch: {\r\n    routes() {\r\n      this.searchPool = this.generateRoutes(this.routes)\r\n    },\r\n    searchPool(list) {\r\n      this.initFuse(list)\r\n    },\r\n    show(value) {\r\n      if (value) {\r\n        document.body.addEventListener('click', this.close)\r\n      } else {\r\n        document.body.removeEventListener('click', this.close)\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.searchPool = this.generateRoutes(this.routes)\r\n  },\r\n  methods: {\r\n    click() {\r\n      this.show = !this.show\r\n      if (this.show) {\r\n        this.$refs.headerSearchSelect && this.$refs.headerSearchSelect.focus()\r\n      }\r\n    },\r\n    close() {\r\n      this.$refs.headerSearchSelect && this.$refs.headerSearchSelect.blur()\r\n      this.options = []\r\n      this.show = false\r\n    },\r\n    change(val) {\r\n      const path = val.path;\r\n      if(this.ishttp(val.path)) {\r\n        // http(s):// 路径新窗口打开\r\n        const pindex = path.indexOf(\"http\");\r\n        window.open(path.substr(pindex, path.length), \"_blank\");\r\n      } else {\r\n        this.$router.push(val.path)\r\n      }\r\n      this.search = ''\r\n      this.options = []\r\n      this.$nextTick(() => {\r\n        this.show = false\r\n      })\r\n    },\r\n    initFuse(list) {\r\n      this.fuse = new Fuse(list, {\r\n        shouldSort: true,\r\n        threshold: 0.4,\r\n        location: 0,\r\n        distance: 100,\r\n        maxPatternLength: 32,\r\n        minMatchCharLength: 1,\r\n        keys: [{\r\n          name: 'title',\r\n          weight: 0.7\r\n        }, {\r\n          name: 'path',\r\n          weight: 0.3\r\n        }]\r\n      })\r\n    },\r\n    // Filter out the routes that can be displayed in the sidebar\r\n    // And generate the internationalized title\r\n    generateRoutes(routes, basePath = '/', prefixTitle = []) {\r\n      let res = []\r\n\r\n      for (const router of routes) {\r\n        // skip hidden router\r\n        if (router.hidden) { continue }\r\n\r\n        const data = {\r\n          path: !this.ishttp(router.path) ? path.resolve(basePath, router.path) : router.path,\r\n          title: [...prefixTitle]\r\n        }\r\n\r\n        if (router.meta && router.meta.title) {\r\n          data.title = [...data.title, router.meta.title]\r\n\r\n          if (router.redirect !== 'noRedirect') {\r\n            // only push the routes with title\r\n            // special case: need to exclude parent router without redirect\r\n            res.push(data)\r\n          }\r\n        }\r\n\r\n        // recursive child routes\r\n        if (router.children) {\r\n          const tempRoutes = this.generateRoutes(router.children, data.path, data.title)\r\n          if (tempRoutes.length >= 1) {\r\n            res = [...res, ...tempRoutes]\r\n          }\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    querySearch(query) {\r\n      if (query !== '') {\r\n        this.options = this.fuse.search(query)\r\n      } else {\r\n        this.options = []\r\n      }\r\n    },\r\n    ishttp(url) {\r\n      return url.indexOf('http://') !== -1 || url.indexOf('https://') !== -1\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header-search {\r\n  font-size: 0 !important;\r\n\r\n  .search-icon {\r\n    cursor: pointer;\r\n    font-size: 18px;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .header-search-select {\r\n    font-size: 18px;\r\n    transition: width 0.2s;\r\n    width: 0;\r\n    overflow: hidden;\r\n    background: transparent;\r\n    border-radius: 0;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n\r\n    ::v-deep .el-input__inner {\r\n      border-radius: 0;\r\n      border: 0;\r\n      padding-left: 0;\r\n      padding-right: 0;\r\n      box-shadow: none !important;\r\n      border-bottom: 1px solid #d9d9d9;\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n\r\n  &.show {\r\n    .header-search-select {\r\n      width: 210px;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/HeaderSearch"}]}